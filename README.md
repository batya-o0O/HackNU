# HackNU

# Ваша задача: Написать алгоритм для подсчета прибыли за период с учетом себестоимости по [FIFO (First in first out)](https://ru.wikipedia.org/wiki/FIFO_%D0%B8_LIFO)

### Для этого вам потребуются:
### 1. Две таблицы (`supply`, `sale`) с ниже указаннами колонками (дополнительно можно добавлять свои колонки):
i. Таблица закупок (`supply`):
- `id`
- `barcode`
- `quantity`
- `price`
- `time`

ii. Таблица продаж (`sale`):
- `id`
- `barcode`
- `quantity`
- `price`
- `time`

### 2. Нужно написать ([REST API](https://habr.com/ru/articles/483202/)) методы для:
#### i. [Создания, редактирования, удаления и просмотра закупа](https://umaghacknu.docs.apiary.io/#reference/0/0/0).
- Через REST закупы можно создавать, редактировать, удалять. Редактируемые поля: `кол-во`, `цена`, `время`. Можно создавать закуп задним числом.
#### ii. [Создания, редактирования, удаления и просмотра продажи](https://umaghacknu.docs.apiary.io/#reference/0/1/0).
- Через REST продажи можно создавать, редактировать, удалять. Редактируемые поля: `кол-во`, `цена`, `время`. Можно создавать продажу задним числом.
#### iii. [Подсчета прибыли за период с учетом себестоимости по FIFO](https://umaghacknu.docs.apiary.io/#reference/0/2/0).
- Себестоимость подсчитывается/пересчитывается при создании, редактировании, удалении продажи и закупок по методу [FIFO (First in first out)](https://ru.wikipedia.org/wiki/FIFO_%D0%B8_LIFO).
- Notice: Прибыль считается только по проданным товарам.
 
#### iv. Предоставить миграционные скрипты БД если таковые имеются.

Notice: Названия endpoint-ов, названия параметров и ответы должны совпадать с названиями в примерах

----


### Как проверить правильность REST запросов:
#### Тут будет инструкция по тому, как проверить правильность REST запросов через Postman коллекции.

----


### Дополнительно вам предоставляем [тестовые данные](https://github.com/khangroupkz/HackNU/tree/main/database). Использование их необязательно, это для примера.
##### Для создания БД и таблиц можете запустить команду:
`mysql -u root -p < create_tables.sql`
##### Для загрузки данных в БД можете запустить команду:
`mysql -u root -p < insert_supplies.sql` и `mysql -u root -p < insert_sales.sql`

----

# Как определяется победитель?
1. Подсчет прибыли должен быть правильным.
2. Алгоритм подсчета должен быть эффективным. Нужно описать (или нарисовать) алгоритм подсчета.

### Подсказка 1:
Можно добавить колонку margin в продаже или хранить в отдельной таблице.

### Подсказка 2:
В приоритете будут рассматриваться алгоритмы подсчета себестоимости с меньшим количеством итерации и с меньшим объемом памяти (RAM и жесткий диск).
